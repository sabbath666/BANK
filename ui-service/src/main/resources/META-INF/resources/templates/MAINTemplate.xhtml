<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
>

<h:head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <h:outputScript library="js" name="fixViewState.js"/>

    <f:facet name="first">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    </f:facet>

    <h:outputStylesheet library="css" name="common1.css"/>

    <ui:insert name="inHead"/>

    <p:ajaxExceptionHandler onexception="PF('anyExceptionDialog').show();" update="anyExceptionDlg">
        <p:dialog id="anyExceptionDlg" widgetVar="anyExceptionDialog" header="Произошла ошибка"
                  modal="true" draggable="false" closable="true">
            <h:panelGrid columns="1">
                <p:outputLabel value="#{pfExceptionHandler.message}"/>
                <p:commandButton value="На главную" type="button"
                                 onclick="document.location.href = '#{request.contextPath}';"/>
            </h:panelGrid>
        </p:dialog>
    </p:ajaxExceptionHandler>

    <p:ajaxExceptionHandler type="javax.faces.application.ViewExpiredException"
                            onexception="PF('viewExpiredExceptionDialog').show();">
        <p:dialog widgetVar="viewExpiredExceptionDialog" header="Время сессии истекло"
                  modal="true" draggable="false" closable="false">
            <h:panelGrid columns="1">
                <p:outputLabel value="Время вашей сессии истекло, авторизуйтесь снова."/>
                <p:commandButton value="На главную" type="button"
                                 onclick="document.location.href = '#{request.contextPath}';"/>
            </h:panelGrid>
        </p:dialog>
    </p:ajaxExceptionHandler>
</h:head>

<h:body id="body">
    <div id="top" class="cib-style"
         style="text-align: left; margin: 10px 10px 10px 10px;background:burlywood;height: 140px">
        <h:panelGrid columns="2" style="align-content: center;width: 100%" columnClasses="thinColumn,wideColumn">
                    <h:graphicImage name="chuck.png" library="images" width="120"/>
                    <h:panelGrid columns="1" style="text-align: center">
                        <h:outputText value="CHUCK-NORRIS-BANK" style="font-size: 50px"/><br/>
                        <h:outputText value="#{sessionBean.fact}" style="font-size: large"/>
                    </h:panelGrid>
        </h:panelGrid>
    </div>

    <div id="content" class="cib-style">
        <ui:insert name="content"/>
    </div>
</h:body>

</html>
